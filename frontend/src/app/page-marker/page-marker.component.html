<svg style="width: 100%" #canvas [attr.data-mode]="mode" [ngClass]="{'hover-mark': hoverMark}">
    <image xlink:href="assets/page.jpg" [attr.height]="height" [attr.width]="width" />
    <ng-container *ngFor="let shape of shapes">
        <rect *ngIf="shape.type === 'square'"
              [id]="shape.id"
              class="square"
              [ngClass]="{'is-chapter': shape.isChapter}"
              [attr.x]="shape.x"
              [attr.y]="shape.y"
              [attr.width]="shape.width"
              [attr.height]="shape.height" />
        <polygon *ngIf="shape.type === 'polygon'"
                 [id]="shape.id"
                 class="polygon"
                 [ngClass]="{'is-chapter': shape.isChapter}"
                 [attr.points]="shape.points" />
        <line *ngIf="shape.type === 'pages'"
              [id]="shape.id"
              class="pages"
              [attr.x1]="shape.x"
              [attr.x2]="shape.x"
              y1="0"
              [attr.y2]="height" />
        <line *ngIf="shape.type === 'text-line'"
              [id]="shape.id"
              class="text-line"
              [attr.x1]="shape.x1"
              [attr.x2]="shape.x2"
              [attr.y1]="shape.y1"
              [attr.y2]="shape.y2" />
    </ng-container>
    <circle *ngFor="let mark of draftMarks"
            [ngClass]="'is-mark is-draft ' + mark.className + (isChapter ? ' is-chapter' : '')"
            [attr.cx]="mark.x"
            [attr.cy]="mark.y" r="5" />
    <polygon *ngIf="draftPoints"
             [ngClass]="'is-draft polygon ' + (isChapter ? 'is-chapter' : '')"
             [attr.points]="draftPoints" />
    <line *ngFor="let line of draftLines"
          [ngClass]="'is-line is-draft ' + line.className + (isChapter ? ' is-chapter' : '')"
          [attr.x1]="line.x1"
          [attr.y1]="line.y1"
          [attr.x2]="line.x2"
          [attr.y2]="line.y2" />
</svg>
